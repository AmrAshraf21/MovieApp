import{a as X}from"./chunk-MIGO7UCM.js";import{a as G,b as J}from"./chunk-KJ2UV2VB.js";import"./chunk-6IGRLIU7.js";import{a as $}from"./chunk-QV42D6GH.js";import"./chunk-K62NXMGT.js";import{a as N,b as K}from"./chunk-HA7WLZFL.js";import{a as j}from"./chunk-DH2W5AH7.js";import{b as U,c as A,f as H}from"./chunk-NHAO7CWC.js";import"./chunk-5CXNSXUT.js";import{a as Q}from"./chunk-6FL4JXGX.js";import"./chunk-ZBJE3JOA.js";import{b as R,g as D,h as z,i as w,o as W,q as B,r as F,u as q}from"./chunk-O6M2NVFT.js";import"./chunk-HEVQ3NIT.js";import{Cb as h,Db as k,Eb as S,Ia as d,Lb as P,Pb as v,Qb as I,Rb as M,T as p,Y as T,Yb as E,Z as x,Za as C,_a as _,bb as y,cb as V,db as s,eb as r,fa as l,fb as a,gb as c,kb as L,nb as g,ob as m,ua as b,xa as o}from"./chunk-H6KZ5SFA.js";var et=e=>["/tv-shows",e],it=e=>({active:e}),u=class e{wishlistService=p(q);tvShow;toggleWishlist(t){t.stopPropagation(),t.preventDefault(),this.wishlistService.toggleWishlist(this.tvShow,"tvshow")}isInWishlist(){return this.wishlistService.isInWishlist(this.tvShow.id,"tvshow")}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=d({type:e,selectors:[["app-tv-show-card"]],inputs:{tvShow:"tvShow"},decls:18,vars:20,consts:[[1,"tv-show-card",3,"routerLink"],[1,"poster-container"],[1,"poster",3,"src","alt"],["value","TV","badgeSize","xlarge","severity","contrast",1,"badge"],[1,"heading"],[1,"title"],[1,"wishlist-button",3,"click","ngClass"],[3,"filled"],[1,"details"],[1,"rating"],[1,"pi","pi-star-fill"],[1,"first-air-date"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"div",1),c(2,"img",2),v(3,"posterUrl"),a(),c(4,"p-badge",3),r(5,"div",4)(6,"h3",5),h(7),a(),r(8,"button",6),g("click",function(f){return n.toggleWishlist(f)}),c(9,"app-heart-icon",7),a()(),r(10,"div",8)(11,"span",9),c(12,"i",10),h(13),v(14,"number"),a(),r(15,"span",11),h(16),v(17,"date"),a()()()),i&2&&(s("routerLink",P(16,et,n.tvShow.id)),o(2),s("src",M(3,8,n.tvShow.poster_path,"w500"),b)("alt",n.tvShow.name),o(5),k(n.tvShow.name),o(),s("ngClass",P(18,it,n.isInWishlist())),o(),s("filled",n.isInWishlist()),o(4),S(" ",M(14,11,n.tvShow.vote_average,"1.1-1")," "),o(3),S(" ",I(17,14,n.tvShow.first_air_date)," "))},dependencies:[w,R,z,D,H,A,U,X,$,F,Q],styles:[".tv-show-card[_ngcontent-%COMP%]{width:300px;height:600px;border:2px solid #ccc;border-radius:20px;position:relative}.tv-show-card[_ngcontent-%COMP%]   .poster-container[_ngcontent-%COMP%]{width:100%}.tv-show-card[_ngcontent-%COMP%]   .poster-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:20px}.tv-show-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.tv-show-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem}.tv-show-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#044faa}.tv-show-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#a2c5f1;border:none;border-radius:50px}.tv-show-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem}.tv-show-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{font-size:20px}.tv-show-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:gold;font-size:20px}.tv-show-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .first-air-date[_ngcontent-%COMP%]{font-size:20px;font-weight:700}"]})};var nt=(e,t)=>t.id;function ot(e,t){e&1&&(r(0,"div",2),c(1,"p-progressSpinner"),a())}function rt(e,t){if(e&1&&c(0,"app-tv-show-card",4),e&2){let i=t.$implicit;s("tvShow",i)}}function at(e,t){if(e&1){let i=L();r(0,"p-paginator",6),g("onPageChange",function(O){T(i);let f=m(2);return x(f.onPageChange(O))}),a()}if(e&2){let i=m(2);s("rows",20)("totalRecords",i.totalRecords())("pageLinkSize",5)("first",(i.currentPage()-1)*20)}}function st(e,t){if(e&1&&(r(0,"div",3),y(1,rt,1,1,"app-tv-show-card",4,nt),a(),C(3,at,1,4,"p-paginator",5)),e&2){let i=m();o(),V(i.tvShows()),o(2),_(i.totalRecords()>20?3:-1)}}var Y=class e{apiService=p(N);languageService=p(j);route=p(W);router=p(B);tvShows=l([]);totalRecords=l(0);currentPage=l(1);isLoading=l(!1);constructor(){this.route.queryParams.subscribe(t=>{this.currentPage.set(t.page||1)}),E(()=>{let t=this.languageService.getCurrentLanguage()();this.loadTVShows()})}loadTVShows(){this.isLoading.set(!0),this.apiService.getPopularTVShows(this.currentPage(),this.languageService.getCurrentLanguage()()).subscribe({next:t=>{console.log(t),this.tvShows.set(t.results),this.totalRecords.set(t.total_results),this.isLoading.set(!1)},error:()=>this.isLoading.set(!1)})}onPageChange(t){this.router.navigate([],{relativeTo:this.route,queryParams:{page:t.page+1},queryParamsHandling:"merge"})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=d({type:e,selectors:[["app-tv-shows-list"]],decls:4,vars:1,consts:[[1,"tv-shows-section"],[1,"container"],[1,"loading"],[1,"tv-shows-grid"],[3,"tvShow"],[3,"rows","totalRecords","pageLinkSize","first"],[3,"onPageChange","rows","totalRecords","pageLinkSize","first"]],template:function(i,n){i&1&&(r(0,"section",0)(1,"div",1),C(2,ot,2,0,"div",2)(3,st,4,1),a()()),i&2&&(o(2),_(n.isLoading()?2:3))},dependencies:[w,u,J,G,K],styles:[".tv-shows-section[_ngcontent-%COMP%]{padding:3rem 0}.tv-shows-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:90%;margin:auto}.tv-shows-section[_ngcontent-%COMP%]   .tv-shows-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}"]})};export{Y as TVShowsListComponent};
